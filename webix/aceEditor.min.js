"use strict";webix.protoUI({name:"ace-editor",defaults:{mode:"javascript",theme:"monokai"},$init:function(){this.$view.innerHTML="<div style='width:100%;height:100%'></div>",this._waitEditor=webix.promise.defer(),this.$ready.push(this._render_cm_editor)},$setSize:function(a,b){webix.ui.view.prototype.$setSize.call(this,a,b)&&this._editor&&this._editor.resize()},_render_cm_editor:function(){return this.config.cdn===!1?(this._render_when_ready(),void 0):(webix.require("/webix/ace/ace.js").then(webix.bind(this._render_when_ready,this)).catch(function(a){console.log(a)}),void 0)},_render_when_ready:function(){this._cdn&&(ace.config.set("basePath",this._cdn),ace.config.set("modePath",this._cdn),ace.config.set("workerPath",this._cdn),ace.config.set("themePath",this._cdn)),this._editor=ace.edit(this.$view.firstChild),this._editor.$blockScrolling=1/0,this._editor.setOptions({showPrintMargin:!1,fontFamily:"consolas,monospace",showGutter:!this.config.hideGutter,fontSize:"12pt"}),this.config.theme&&this._editor.setTheme("ace/theme/"+this.config.theme),this.config.mode&&this._editor.getSession().setMode("ace/mode/"+this.config.mode),this.config.value&&this.setValue(this.config.value),this._focus_await&&this.focus(),this._editor.navigateFileStart(),this._waitEditor.resolve(this._editor),this.config.on&&this._editor.session.on("change",this.config.on.onChange)},setValue:function(a){a||0===a||(a=""),this.config.value=a,this._editor&&this._editor.setValue(a)},getValue:function(){return this._editor?this._editor.getValue():this.config.value},focus:function(){this._focus_await=!0,this._editor&&this._editor.focus()},getEditor:function(a){return a?this._waitEditor:this._editor}},webix.ui.view);